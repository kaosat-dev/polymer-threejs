<link rel="import" href="../three-viewer/three-viewer.html">
<link rel="import" href="./history-editor.html">

<script src="./vendor/transform-controls.js"></script>
<script src="./vendor/commands.js"></script>

<polymer-element name="three-editor" extends="three-viewer" attributes="selected">
  <template>
		<link rel="stylesheet" type="text/css" href="../three-viewer/three-viewer.css">
    <style>
      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
          /* display: none; <- Crashes Chrome on hover */
          -webkit-appearance: none;
          margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
      }
    </style>
		<div class="wrapper"> 
			<div id="viewer" touch-action="none" on-pointermove="pointerMove" on-pointerdown="pointerDown" on-pointerup="pointerUp"></div>
			<three-stats id="stats" show="{{showStats}}"></three-stats>
            
      <div id="contextMenu" style="position:absolute;top:0px;right:0px;color:white">
          <div on-tap="addShape">Add Shape</div>
          <div on-tap="addAnnotation">Add Annotation</div>
      </div>

      <div id="selectOverlay" style="position:absolute;bottom:0px;right:0px;color:white">
        <template id="test" if="{{ selectedObject != null }}">
          {{selectedObject.name}}
          P: 
          <input type="number" value="{{ selectedObject.position.x | toFixed(2) }}" style="width: 3em;border: none"/>
          <input type="number" value="{{ selectedObject.position.y | toFixed(2) }}" style="width: 3em;border: none"/>
          <input type="number" value="{{ selectedObject.position.z | toFixed(2) }}" style="width: 3em;border: none"/>
          R:
          <input type="number" value="{{ selectedObject.rotation.x | toFixed(2) }}" style="width: 3em;border: none"/>
          <input type="number" value="{{ selectedObject.rotation.y | toFixed(2) }}" style="width: 3em;border: none"/>
          <input type="number" value="{{ selectedObject.rotation.z | toFixed(2) }}" style="width: 3em;border: none"/>
        </template>
      </div>

      <history-editor id="commandManager"></history-editor>
      
    

		</div>
	</template>
	<script src="three-editor.js"></script>
</polymer-element>


